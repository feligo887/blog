(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{336:function(e,v,i){"use strict";i.r(v);var l=i(5),a=Object(l.a)({},(function(){var e=this,v=e._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h3",{attrs:{id:"vue-cli-初始化"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-初始化"}},[e._v("#")]),e._v(" vue-cli 初始化")]),e._v(" "),v("ol",[v("li",[e._v("检查项目node 版本")]),e._v(" "),v("li",[e._v("获取VUE_CLI_SERVER配置或者本地执行项目的绝对路径，再配置webpack相关存储。")]),e._v(" "),v("li",[e._v("添加脚手架里面自带plugin，并加上 built-in: 前缀和apply，map一个新的数组。")]),e._v(" "),v("li",[e._v("便利package.json 的所有plugin，并塞选出 关于 vue 的plugin，合并两个数组，发布会新的map对象。")])]),e._v(" "),v("p",[v("strong",[e._v("2、3、4 属于ner Server 的操作")])]),e._v(" "),v("h3",{attrs:{id:"执行-run-server-命令"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#执行-run-server-命令"}},[e._v("#")]),e._v(" 执行 run server 命令")]),e._v(" "),v("ol",[v("li",[e._v('判断执行的mode，例如："development"')]),e._v(" "),v("li",[e._v("判断跳过执行的插件：带有：'skip-plugins' 或者正在执行的run命令中（package.json 的 \"scripts\" 中）有 '--skip-plugins'")]),e._v(" "),v("li",[e._v("执行init（脚手架init初始化），获取env 环境变量，生成basePath 和 localPath 路径")]),e._v(" "),v("li",[e._v("判断mode的值，给process.env 下的环境变量，赋予不同的值")]),e._v(" "),v("li",[e._v("读取可能的 vue.config 文件，判断加载模块是 ESM or commonJS")]),e._v(" "),v("li",[e._v("校验配置文件，把用户配置和默认配置合并")]),e._v(" "),v("li",[e._v("执行插件队列：实例化 new PluginAPI，调用pluginAPI.registerCommand 注册插件，执行：'server'、'bulid'、'lint'等命令并执行webpack 配置数据初始化")])]),e._v(" "),v("h3",{attrs:{id:"webpack-配置"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#webpack-配置"}},[e._v("#")]),e._v(" webpack 配置")]),e._v(" "),v("ol",[v("li",[e._v("webpack初始化")]),e._v(" "),v("li",[e._v("向webpackChainFns push 填充方法并执行，")]),e._v(" "),v("li",[e._v("生成默认的config配置，对webpackConfig 扩充")]),e._v(" "),v("li",[e._v("插件的默认注入和加载")]),e._v(" "),v("li",[e._v("合并本地修改的配置")])]),e._v(" "),v("h3",{attrs:{id:"vue-cli-运行-serve"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-运行-serve"}},[e._v("#")]),e._v(" vue-cli 运行（ serve ）")]),e._v(" "),v("ol",[v("li",[e._v("声明 配置运行路径、端口、代理配置、打包代码并生成 websokect 通讯地址、在wbebpack 生命钩子里面 添加 'vue-cli-service serve'")]),e._v(" "),v("li",[e._v("实例化 webDevServer对象")]),e._v(" "),v("li",[e._v("判断是否是初次构建 和 构建类型：server build 等，并输出构建日志：运行地址 或者错误信息")]),e._v(" "),v("li")]),e._v(" "),v("h3",{attrs:{id:"vue-cli-运行-build-与serve-差异"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli-运行-build-与serve-差异"}},[e._v("#")]),e._v(" vue-cli 运行（ build 与serve 差异）")]),e._v(" "),v("ol",[v("li",[e._v("处理args 数组，增加 新属性")]),e._v(" "),v("li",[e._v("执行build 方法： 确定运行模式、生成代码的绝对路径、生成webpack 构建配置、兼容性构建")]),e._v(" "),v("li",[e._v("检查 args 上的 watch stdin clean")]),e._v(" "),v("li",[e._v("webpack 构建： 构建解析、打印日志")])])])}),[],!1,null,null,null);v.default=a.exports}}]);